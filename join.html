<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <script src="https://cdn.emailjs.com/sdk/2.5.0/email.min.js"></script>
</head>
<body>
    <h2>Become a Student</h2>
    <form>
        <label for="username">Name:</label>
        <input type="text" id="username" name="username" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email"><br><br>

        <label for="password">Choose a PIN code (4 digit):</label>
        <input type="text" id="password" name="password" required><br><br>

        <label for="parts">Choose LimiPlay (piano) or LimiMake (coding):</label>
        <select id="parts" required>
            <option value="" disabled selected>Choose...</option>
            <option value="LimiPlay">LimiPlay</option>
            <option value="LimiMake">LimiMake</option>
            <option value="Both LimiPlay and LimiMake">Both LimiPlay and LimiMake</option>
        </select><br><br>

        <button id="becomeAStudent" type="submit">Click here to submit your info and become a student</button>
    </form>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Initialize EmailJS with your User ID
            emailjs.init("oAbObyX_TdjrNh-4A"); // Replace with your actual User ID

            document.getElementById("sendEmail").addEventListener("click", function(event) {
                event.preventDefault(); // Prevent form submission

                // Collect form input values
                let params = {
                    to_email: "anhad@limiplake.com"
                    pin_code: document.getElementById("password").value,
                    part: document.getElementById("parts").value
                };

                console.log("Params to be sent:", params); // Log params for debugging

                // Send email using EmailJS
                emailjs.send("service_1l2p3li5", "31oby7l", params)  // Replace with your actual Template ID
                    .then(function(response) {
                        console.log("Email sent successfully:", response);
                        alert("Email sent successfully!");
                    }, function(error) {
                        console.error("Failed to send email:", error);
                        alert("Failed to send email: " + JSON.stringify(error));
                    });
            });
        });
</body>
</html>
